<body>
<!--<applet code="nano" archive="https://raw.github.com/bestiejs/benchmark.js/master/nano.jar"></applet>--> 

<head>
    <link rel="stylesheet" type="text/css" href="http://bootswatch.com/cyborg/bootstrap.min.css">
    <script src='http://cdnjs.cloudflare.com/ajax/libs/knockout/2.2.1/knockout-min.js'></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.5/require.min.js"></script>
</head>    

<div class="container-fluid" style="display:none;" data-bind="visible: shouldShow">
    <div class="well">
        <div class="alert alert-info" data-bind="text: suiteDesc"></div>
        <table class="table" id="testCaseList">
            <tbody data-bind="'foreach': testCases">
               <tr>
                   <td><label data-bind="text: name"></label></td>
                   <td>
                    <pre><code data-bind="text: func.toString()"></code></pre>       
                   </td>
               </tr>
            </tbody>
        </table>
        <table class="table" id="results">
            <thead>
                <tr>
                    <th>expression</th>
                    <th>should.equal</th>
                    <th>actual</th>
                    <th>typeof</th>
                </tr>
            </thead>
            <tbody data-bind="'foreach': tests">
                <tr data-bind="css: shouldEqual === actual ? 'success' : 'error'">
                    <td><code data-bind="text: expression"></code></td>
                    <td><code data-bind="text: shouldEqual"></code></td>
                    <td><code data-bind="text: actual"></code></td>
                    <td><code data-bind="text: typeOf"></code></td>
                </tr>
            </tbody>
        </table>
         BENCHMARKS in 
        <span data-bind="text: benchmarkPlatform" class="label label-primary"></span>
        <span data-bind="text: benchmarksStatus, css: benchmarksStatus != 'Running' ? 'label label-success' : 'label label-warning' "></span>
        <table class="table" id="benchmarks">
            <thead>
                <tr>                    
                    <th>expression</th>
                    <th>perfomance</th>
                    <th>ops/sec</th>
                    <th>+/-</th>
                    <th># runs sampled</th>
                </tr>
            </thead>
            <tbody data-bind="foreach: benchmarks">
                 <tr data-bind="css: fastest ? 'success' : slowest ? 'error' : ''">
                    <td><code data-bind="text: name"></code></td>
                    <td><code style='display:none;' data-bind="text: timesFaster ? timesFaster + ' x faster' : '', visible:timesFaster"></code></td> 
                    <td><code data-bind="text: hz.toFixed(0)"></code></td>
                    <td><code data-bind="text: stats.rme.toFixed(2) + '%'"></code></td>
                    <td><code data-bind="text: stats.sample.length"></code></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script>
requirejs.config({
  paths: {
    'FiddleSticks': '../fiddleSticks',
    'benchmark' : 'https://raw.github.com/bestiejs/benchmark.js/master/benchmark',
    'lodash' : 'https://raw.github.com/bestiejs/benchmark.js/master/vendor/lodash/lodash',
    'platform' : 'https://raw.github.com/bestiejs/benchmark.js/master/vendor/platform.js/platform'
  
  }
});

require(['FiddleSticks'], function(FiddleSticks) {
 var FS, s;
 FS = new FiddleSticks();
 function jsContext() {
    var Rectangle, Shape;
    Shape = function() {
      this.x = 1;
      this.y = 1;
    };
    Rectangle = function() {
      return Shape.call(this);
    };
    Shape.prototype.move = function(x, y) {
      this.x += x;
      this.y += y;
      return "Shape moved.";
    };
    Rectangle.prototype = Object.create(Shape.prototype);
    return {
      shape: new Shape(),
      rectangle: new Rectangle(),
      Shape: Shape,
      Rectangle: Rectangle
    };
  };
  
  s = new FS.Suite('Classical inheritance with Object.create', jsContext);
  ko.applyBindings(s);
  
  s.add(true, function(c) {return c.rectangle instanceof c.Rectangle;})
   .add(true, function(c) {return c.rectangle instanceof c.Shape;})
   .add('function', function(c) {return typeof c.Rectangle;})
   .add(1, function(c) {return c.rectangle.x;})
   .add(1, function(c) {return c.rectangle.y;})
   .add(1, function(c) {return c.shape.x;})
   .add(1, function(c) {return c.shape.y;})
   .add('object', function(c) {return typeof c.rectangle;})
   .add('Shape moved.', function(c) {return c.rectangle.move(1, 1);})
   .add(2, function(c) {return c.rectangle.x;})
   .add(2, function(c) {return c.rectangle.y;})
   .add(1, function(c) {return c.shape.x;})
   .add(1, function(c) {return c.shape.y;});
    
    s.benchmarkSuite.run({ 'async': true });

});

    
</script>
</body>
